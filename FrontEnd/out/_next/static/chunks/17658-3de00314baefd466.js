"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[17658],{17658:function(e,t,n){n.d(t,{Z:function(){return M}});var r=n(35944),i=n(67294),o=n(41664),c=n.n(o),a=n(29314),l=n(91984),d=n(99667),s=n(12961),h=n(15380),u=n(76210),p=n(66537),f=n(18797),m=n(22153),g=n(42037),Z=n(37151),C=n(88791),b=n(15664),T=n(91014),x=n(32155),y=n(30986),v=n(70917),k=(0,v.F4)("0%{transform:rotate(0);}100%{transform:rotate(360deg);}"),w=function(){var e,t=(0,y.Fg)(),n=t.colorMode,i=t.setColorMode,o="dark"===n,c=function(e){i(e)},l=o?"light":"dark",d=(e=(0,a.rE)().euiTheme,{animation:(0,v.iv)("animation:",k," 0.5s ease;transition:all ",e.animation.extraSlow," ",e.animation.bounce,";")});return(0,r.tZ)(b.i,{content:"Change theme to ".concat(l),children:(0,r.tZ)(T.j,{"aria-label":"Change theme",onClick:function(){return c(l)},children:(0,r.tZ)(x.pH,{type:o?"sun":"moon","aria-hidden":"true",css:d.animation})})},"theme-switch")},R=n(95202),S={borderRadius:"25px",border:"1px solid #666666",padding:"5px",top:"auto",bottom:"auto"},D=function(){var e,t=(e=(0,a.rE)().euiTheme,{logo:(0,v.iv)("display:inline-flex;flex-wrap:wrap;gap:",e.size.m,";"),title:(0,v.iv)("line-height:1.75;// Measured in the browser")}),n=(0,i.useState)(!1),o=n[0],b=n[1],T=function(){return b(!1)};return(0,r.tZ)(l.j,{position:"fixed",sections:[{items:[(0,r.tZ)(c(),{href:"/",passHref:!0,children:(0,r.tZ)("a",{children:(0,r.tZ)(d.yR,{size:"xxs",css:t.title,children:(0,r.tZ)("span",{children:"NMT Schedule Builder"})})})},"logo-eui"),(0,r.BX)(s.r,{border:"right",children:[(0,r.tZ)(h.L,{iconType:"apps",href:"./",color:"primary",children:"Home"}),(0,r.tZ)(h.L,{iconType:"search",href:"./lookup",color:"primary",children:"Course Lookup"}),(0,r.tZ)(h.L,{iconType:"calendar",href:"./calendar",color:"primary",children:"My Calendar"}),(0,r.tZ)(h.L,{iconType:"folderOpen",onClick:function(){return b(!0)},color:"primary",children:"My Cart"}),o&&(0,r.BX)(u.w,{style:S,onClose:T,children:[(0,r.tZ)(p.t,{children:(0,r.tZ)(f.I,{children:"Your Cart of Courses:"})}),(0,r.tZ)(m.F,{size:"m"}),(0,r.tZ)(g.D,{children:(0,r.tZ)(R.default,{})}),(0,r.BX)(Z.s,{children:[(0,r.tZ)(C.g2,{onClick:T,iconType:"cross",color:"primary",fill:!0,children:"Continue Building"}),(0,r.tZ)(C.g2,{href:"./calendar",iconType:"indexOpen",color:"primary",children:"View on My Calendar"})]})]})]},"links"),],borders:"none"},{items:[(0,r.tZ)(w,{},"theme-switcher"),(0,r.BX)(s.r,{border:"right",children:[(0,r.tZ)(h.L,{iconType:"plusInCircleFilled",href:"./about",color:"primary",children:"About"}),(0,r.tZ)(h.L,{iconType:"questionInCircle",href:"./help",color:"primary",children:"Help"})]},"links"),],borders:"none"},]})},L=n(4626),N=function(e){var t,n=e.children,i=(0,a.rE)().euiTheme,o="dark"===(0,y.Fg)().colorMode?.03:.05,c=(t={topLeft:(0,L.DZ)(i.colors.success,o),centerTop:(0,L.DZ)(i.colors.accent,o),topRight:(0,L.DZ)(i.colors.warning,o),centerMiddleLeft:(0,L.DZ)(i.colors.warning,o),centerMiddleRight:(0,L.DZ)(i.colors.accent,o),bottomRight:(0,L.DZ)(i.colors.primary,o),bottomLeft:(0,L.DZ)(i.colors.accent,o)},{gradientBg:(0,v.iv)("position:relative;padding-top:48px;// top nav\n    background:radial-gradient(\n        circle 600px at top left,",t.topLeft,",transparent\n      ),radial-gradient(\n        circle 800px at 600px 200px,",t.centerTop,",transparent\n      ),radial-gradient(\n        circle 800px at top right,",t.topRight,",transparent\n      ),radial-gradient(\n        circle 800px at left center,",t.centerMiddleLeft,",transparent\n      ),radial-gradient(\n        circle 800px at right center,",t.centerMiddleRight,",transparent\n      ),radial-gradient(\n        circle 800px at right bottom,",t.bottomRight,",transparent\n      ),radial-gradient(\n        circle 800px at left bottom,",t.bottomLeft,",transparent\n      );")});return(0,r.tZ)("div",{css:c.gradientBg,children:n})},M=function(e){var t,n=e.children,i=(t=(0,a.rE)().euiTheme,{content:(0,v.iv)("display:flex;flex-direction:column;max-width:1120px;margin:0 auto;padding-right:",t.size.base,";padding-bottom:",t.size.xxl,";padding-left:",t.size.base,";")});return(0,r.BX)(r.HY,{children:[(0,r.tZ)(D,{}),(0,r.tZ)(N,{children:(0,r.tZ)("div",{css:i.content,children:n})})]})}},95202:function(e,t,n){n.r(t);var r=n(10797),i=n(35944),o=n(67294),c=n(15664),a=n(39101),l=n(91446),d=n(19574),s=n(27417),h=n(88791),u=function(){var e=(0,o.useState)(!1);e[0],e[1];var t=(0,o.useState)(0),n=t[0],u=t[1],p=(0,o.useState)(5),f=p[0],m=p[1],g=(0,o.useState)("CRN"),Z=g[0],C=g[1],b=(0,o.useState)("asc"),T=b[0],x=b[1],y=(0,o.useState)([]),v=y[0],k=y[1],w=(0,o.useState)([]),R=w[0],S=w[1],D=(0,o.useState)([]),L=D[0],N=D[1];(0,o.useEffect)(function(){fetch("http://localhost:5000/api/get_cart",{credentials:"include"}).then(function(e){if(!e.ok)throw Error("HTTP error: ".concat(e.status));return e.json()}).then(function(e){"items"in e?N(e.items):N([]),console.log("Selected results:",L)}).catch(function(e){console.error("Failed to fetch from get_cart:",e)})},[L]);var M=function(e){var t=e.page,r=void 0===t?{index:n,size:f}:t,i=e.sort,o=void 0===i?{field:Z,direction:T}:i,c=r.index,a=r.size,l=o.field,d=o.direction;u(c),m(a),C(l),x(d)},B=(0,o.useState)(!1),E=B[0],z=B[1],_=function(){z(!E),S(E?[]:v.map(function(e){return e.CRN}))},F=function(e){var t=R.includes(e)?R.filter(function(t){return t!==e}):(0,r.Z)(R).concat([e]);S(t)},j=function(){N(L.filter(function(e){return!R.includes(e.CRN)}));var e=L.filter(function(e){return R.includes(e.CRN)});S([]),fetch("http://localhost:5000/api/del_cart",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({delItems:e})}).then(function(e){if(!e.ok)throw Error("HTTP error: ".concat(e.status));return e.json()}).then(function(e){console.log("Items removed from cart:",e)}).catch(function(e){console.error("Failed to fetch del_cart:",e)})},H=function(){fetch("http://localhost:5000/api/clear_cart",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"}).then(function(e){if(!e.ok)throw Error("HTTP error: ".concat(e.status));return e.json()}).catch(function(e){console.error("Failed to fetch del_cart:",e)}),S([]),N([])};(0,o.useEffect)(function(){console.log("Triggered"),k(L.sort(function(e,t){var n=e[Z]<t[Z];return"desc"==T?n?1:-1:n?-1:1}).slice(n*f,(n+1)*f))},[Z,T,n,f,L]);var I=L?L.length:0,X=[{field:"CRN",name:(0,i.tZ)(c.i,{content:"The CRN, or id for the course",children:(0,i.tZ)("span",{children:"CRN"})}),sortable:!0,truncateText:!0},{field:"Course",name:(0,i.tZ)(c.i,{content:"The course code, dept + lvl",children:(0,i.tZ)("span",{children:"Course"})}),sortable:!0,truncateText:!0},{field:"*Campus",name:(0,i.tZ)(c.i,{content:"The campus, eg Main, Distance/Web",children:(0,i.tZ)("span",{children:"Campus"})}),sortable:!0,truncateText:!0},{field:"Days",name:(0,i.tZ)(c.i,{content:"The days of the week on which the course takes place",children:(0,i.tZ)("span",{children:"Days"})}),sortable:!0,truncateText:!0},{field:"Time",name:(0,i.tZ)(c.i,{content:"The time of day in which the course takes place",children:(0,i.tZ)("span",{children:"Time"})}),sortable:!0,truncateText:!0},{field:"Location",name:(0,i.tZ)(c.i,{content:"The building / medium where the class meets",children:(0,i.tZ)("span",{children:"Location"})}),sortable:!0},{name:(0,i.tZ)(a.D,{id:"selectAllCheckbox",label:"Select all rows",checked:E,onChange:_}),width:"32px",render:function(e){return(0,i.tZ)(a.D,{id:e.CRN.toString(),checked:R.includes(e.CRN),onChange:function(){return F(e.CRN)}})}},];return(0,i.BX)("div",{children:[(0,i.tZ)(l.n,{items:v,columns:X,pagination:{pageIndex:n,pageSize:f,totalItemCount:I,pageSizeOptions:[5,10,15]},sorting:{sort:{field:Z,direction:T}},onChange:M,rowProps:function(e){var t;return{style:e.cF?{border:"1px solid red",backgroundColor:"lightcoral"}:{}}}}),R.length>0&&(0,i.tZ)(d.Gv,{justifyContent:"flexEnd",children:(0,i.tZ)(s.J,{grow:!1,children:(0,i.BX)(h.g2,{onClick:j,children:["Delete selected ",R.length>1?"items":"item"]})})}),(0,i.tZ)(h.g2,{color:"danger",onClick:H,children:"Delete all items"}),(0,i.tZ)("br",{}),(0,i.tZ)("i",{children:"Red entries indicate a time conflict among your selections."}),(0,i.tZ)("br",{}),(0,i.tZ)("i",{children:"To remove an item from your cart, select it, and click Delete Item(s)."}),(0,i.tZ)("br",{}),(0,i.BX)("i",{children:["Delete all items will remove ",(0,i.tZ)("strong",{children:"ALL"})," items from your cart (Not Recommended)."]})]})};t.default=u}}]);